<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="top.warmj.covid19_DataV.dao.BasicDataDao">
    <select id="getBasicData" resultType="top.warmj.covid19_DataV.domain.BasicData">
        SELECT province_confirmedCount AS chinaConfirmedCount, province_curedCount AS chinaCuredCount, province_deadCount AS chinaDeadCount
            , (
                SELECT SUM(city_confirmedCount)
                FROM (
                    SELECT city_confirmedCount
                    FROM dxyarea
                    WHERE cityName = '境外输入'
                    GROUP BY provinceName
                ) city_confirmedCount
            ) AS overseas, updateTime
        FROM `dxyarea`
        WHERE countryName = '中国'
            AND provinceName = '中国'
        GROUP BY provinceName
    </select>

</mapper>